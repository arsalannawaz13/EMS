<div class="jumbotron text-center">
  <h1>Users List</h1>
</div>

<div class="page-content page-container" id="page-content">
  <div class="d-flex justify-content-center">
    <div class="card user-card-full">
      <table class="table">
        <%= form_with method: :get, local: true do |f| %>
          <div class="input-group justify-content-center">
            <div class="input-group-btn">
              <%= f.submit 'Search USERS' ,class:'btn btn-success'%>
            </div>
            <%= f.text_field :search,value: params[:search] %>
            <div class="input-group-btn">
              <%= link_to 'Download CSV', admin_users_path(format: :csv) ,class: 'btn btn-success'%>
            </div>
          </div>
        <% end %>
        <thead>
          <tr>
            <th><%= sortable "full_name" %></th>
            <th><%= sortable "email" %></th>
            <th><%= sortable "admin" %></th>
          </tr>
        </thead>
        <tbody>
          <% @results.each do |u| %>
            <tr>
              <td> <%= u.full_name %> </td>
              <td> <%= u.email %> </td>
              <td> <%= u.admin %> </td>
              <td> <%= link_to 'Show', admin_user_path(u) %> </td>
              <td> <%= link_to 'Edit', admin_users_update_user_path(u) %> </td>
              <td> <%= link_to "Delete", admin_users_destroy_path(u.id), data: { confirm: "Are you sure?" }, method: :delete %> </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>

<div class="d-flex justify-content-center">
  <%= paginate @results %>
</div>
